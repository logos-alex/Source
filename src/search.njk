---
layout: base.njk
title: חיפוש בכתבים
permalink: /search/
---

<div class="text-main">
    <h1>חיפוש בכתבים</h1>
    <p>הקלד מונח חיפוש כדי למצוא טקסטים רלוונטיים בכתבים הגנוזים:</p>

    <div id="search"></div>
</div>

<link rel="stylesheet" href="/pagefind/pagefind-ui.css">
<script src="/pagefind/pagefind-ui.js"></script>
<script>
    // Override console.error to suppress Pagefind errors
    const originalError = console.error;
    console.error = function() {
        try {
            const args = Array.from(arguments);
            const msg = args.map(a => String(a || '')).join(' ').toLowerCase();
            if (msg.includes('pagefind') || msg.includes('uncaught')) {
                return; // Suppress
            }
        } catch(e) {}
        return originalError.apply(console, arguments);
    };

    function initSearch() {
        try {
            if (typeof window.PagefindUI !== 'undefined' && window.PagefindUI) {
                new window.PagefindUI({ 
                    element: "#search",
                    showImages: false,
                    baseUrl: "/",
                    bundlePath: "/pagefind/",
                    translations: {
                        placeholder: "חפש בכתבים...",
                        zero_results: "לא נמצאו תוצאות עבור [SEARCH_TERM]",
                        many_results: "[COUNT] תוצאות עבור [SEARCH_TERM]",
                        one_result: "תוצאה אחת עבור [SEARCH_TERM]",
                        loading: "טוען...",
                        search_label: "חיפוש",
                        filters_label: "פילטרים",
                        clear_search: "נקה חיפוש",
                        load_more: "טען עוד תוצאות",
                        search_html: "הצג תוצאות HTML",
                        exact_search_label: "חיפוש מדויק",
                        ellipsis: "...",
                        not_found: "לא נמצא",
                        direction: "rtl"
                    }
                });
            } else if (document.readyState !== 'loading') {
                setTimeout(initSearch, 500);
            }
        } catch(e) {
            // Pagefind may throw during init - this is normal
            return false;
        }
    }
    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initSearch, 50);
        });
    } else {
        setTimeout(initSearch, 100);
    }
</script>
