{% extends "base.njk" %}

{% block content %}
  <div class="text-main category-listing">
    {# כותרת הדף, למשל: "כתבים ממקור סלאבי" #}
    <h1>{{ title }}</h1>

    {# פסקת תיאור קצרה #}
    {% if description %}
      <p class="category-description">{{ description }}</p>
    {% endif %}

    {# רשימת הספרים בקטגוריה - סונן לפי source הנוכחי #}
    <div class="book-list">
      {% set hasBooks = false %}
      {% for item in collections.texts %}
        {% if item.data.source == source and item.data.pageNumber == 0 %}
          {% set hasBooks = true %}
          <div class="book-card">
            <h3><a href="{{ item.url | url }}">{{ item.data.title }}</a></h3>
            {% if item.data.description %}
              <p>{{ item.data.description }}</p>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
      {% if not hasBooks %}
        <p style="color: var(--text-color-muted); font-style: italic;">אין כתבים בקטגוריה זו עדיין</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
